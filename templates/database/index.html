{% load static %}
{%include 'database/base.html'%}

<!DOCTYPE html>
<!-- Coding by CodingNepal || www.codingnepalweb.com -->
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/xlsx/0.17.0/xlsx.full.min.js"></script>

    <!-- Boxicons CSS -->
    <link href="https://unpkg.com/boxicons@2.1.4/css/boxicons.min.css" rel="stylesheet" />
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/boxicons/2.1.2/css/boxicons.min.css">
    <link rel="stylesheet" href="{% static 'css/index.css' %}">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.12.0/jquery.min.js"></script>
    <script src="{% static 'js/script.js' %}"></script>
    <title>CanImmDB</title>
  </head>
  <body>
    <!-- navbar -->
    {% comment %} <nav class="navbar">
      <div class="logo_item">
        <i class="bx bx-menu" id="sidebarOpen"></i>
        </i>CanImmDB      </div>

    

    
    <div class="navbar_content">
        <a onclick="location.reload()">
         <i> Home </i>
        </a>
        <a onclick="openSection('information')">
            
            <i>Information</i>
        </a>
        <a onclick="openSection('data-submission')">
            
            <i>Data Submission</i>
        </a>
        <a onclick="openSection('developers')">
            
            <i>Developers</i>
        </a>
        <a onclick="openSection('contact')">
            
            <i>Contact</i>
        </a>
        <a onclick="openSection('assistance')">           
            <i>Assistance</i>
        </a>
        
    </div>
    
    </nav>{% endcomment %}

    <!-- sidebar -->
    <nav class="sidebar">
      <div class="menu_content">
               
        <ul class="menu_items">
          <div class="menu_title menu_search"> Search</div>
          <!-- duplicate these li tag if you want to add or remove navlink only -->
          <!-- Start -->
          <li class="item">
            <a href="#" class="nav_link basic">
              <span class="navlink_icon">
                <i class="bx bxs-magic-wand"></i>
              </span>
              <span class="navlink">Basic</span>
            </a>
            
          </li>
          <!-- End -->

          <li class="item">
            <a href="#" class="nav_link conditional">
              <span class="navlink_icon">
                <i class="bx bx-loader-circle"></i>
              </span>
              <span class="navlink">Conditional</span>
            </a>
          </li>
          
        </ul>
        
        
        <ul class="menu_items">
          <div class="menu_title menu_browse"> Browse</div>
          <!-- duplicate these li tag if you want to add or remove navlink only -->
          <!-- Start -->
          <li class="item">
            <a href="#" class="nav_link Drug_Category" onclick="fetchDrugCategoryData(event)">
              <span class="navlink_icon">
                <i class="bx bx-loader-circle"></i>
              </span>
              <span class="navlink">Drug Category</span>
            </a>
          </li>
          <li class="item">
            <a href="#" class="nav_link Technique" onclick="fetchtechnique(event)">
              <span class="navlink_icon">
                <i class="bx bxs-magic-wand"></i>
              </span>
              <span class="navlink">Technique</span>
            </a>
          </li>
          <li class="item">
            <a href="#" class="nav_link Cancer" onclick = 'fetchcancer(event)' >
              <span class="navlink_icon">
                <i class="bx bx-loader-circle"></i>
              </span>
              <span class="navlink">Cancer Type</span>
            </a>
          </li>
          <!-- End -->

          
          <li class="item">
            <a href="#" class="nav_link Smiles">
              <span class="navlink_icon">
                <i class="bx bx-filter"></i>
              </span>
              <span class="navlink">SMILES</span>
            </a>
          </li>
          
        </ul>
        <ul class="menu_items">
          <div class="menu_title menu_browse">Tools </div>
          <!-- duplicate these li tag if you want to add or remove navlink only -->
          <!-- Start -->
          <li class="item">
              <a href="#" class="nav_link TwoD_search">
              <span class="navlink_icon">
                <i class="bx bxs-magic-wand"></i>
              </span>
              <span class="navlink">2D Similarity Search</span>
            </a>
          </li>
          <li class="item">
            <a href="#" class="nav_link substructure">
              <span class="navlink_icon">
                <i class="bx bxs-magic-wand"></i>
              </span>
              <span class="navlink">Substructure Search</span>
            </a>
          </li>
          <li class="item">
            <a href="#" class="nav_link ThreeDsearch">
              <span class="navlink_icon">
                <i class="bx bxs-magic-wand"></i>
              </span>
              <span class="navlink">3D Smilarity Search</span>
            </a>
          </li>
          <!-- End -->

          <li class="item">
            <a href="#" class="nav_link Maccs">
              <span class="navlink_icon">
                <i class="bx bx-loader-circle"></i>
              </span>
              <span class="navlink">MACCS Key Search</span>
            </a>
          </li>
         
         
        </ul>
        <!-- Sidebar Open / Close -->
        <div class="bottom_content">
          <div class="bottom expand_sidebar">
            <span> Expand</span>
            <i class='bx bx-log-in' ></i>
          </div>
          <div class="bottom collapse_sidebar">
            <span> Collapse</span>
            <i class='bx bx-log-out'></i>
          </div>
        </div>
      </div>
    </nav> 
    <main class="content_area">
     
      <section id="information" class="section" style = 'display:none;'>
        <div class='information-section'>
        
        
        <div id="architecture" class="information-subsection" style = 'display:none;'>
            <h3 class="subsection-heading">Architecture of CanImmDB</h3>
            <div class="architecture-image">
                <img src="{% static 'img/fig.png'%}" alt="Architecture of CanImmDB">
            </div>
        </div>
 
        <div id="field-description" class="information-subsection" style = 'display:none;'>
          <h3 class="subsection-heading">Brief Description of all the fields in CanImmDB</h3>
          <table class="field-description-table">
              <thead>
                  <tr>
                      <th>Name of the Field</th>
                      <th>Description</th>
                  </tr>
              </thead>
              <tbody>
                  <tr>
                      <td>Drug</td>
                      <td>This field gives the name of drug as mentioned in the research article.</td>
                  </tr>
                  <tr>
                      <td>Drug Category</td>
                      <td>This field gives the name of the category to which drug belongs.</td>
                  </tr>
                  <tr>
                      <td>Drugbank_Id</td>
                      <td>This field gives the id of given drug in the database Drug Bank.</td>
                  </tr>
                  <tr>
                      <td>Target/S Or Mechanism Of Action</td>
                      <td>This Field provides  mechanism of action of drug.</td>
                  </tr>
                  <tr>
                      <td> Kegg Drug Id</td>
                      <td>This field gives the id of given drug in the database KEGG.</td>
                  </tr> 	
                   <tr>
                      <td>Drug_Pubchem</td>
                      <td>This field gives the id of given  drug in the  database Pubchem.</td>
                  </tr>
                  <tr>
                      <td>Str_Link (Smiles)</td>
                      <td>This field gives description of SMILES of drugs. The "Simplified Molecular Input Line Entry System," or SMILES, converts a chemical's three-dimensional structure into a sequence of symbols that computer programs can easily understand.</td>
                  </tr>
                  <tr>
                      <td>Pmid</td>
                      <td>This is the Pubmed ID of article from which information is curated.</td>
                  </tr>
                  <tr>
                      <td> Cell Line / System</td>
                      <td>This field provides the name of cell line on which experiment is performed.</td>
                  </tr>
                  <tr>
                      <td>Technique	</td>
                      <td>This field provides the assay type used to study the anticancer activity of the drug.</td>
                  </tr>
                  <tr>
                      <td>Immune System-Function Enhanced/Numbers Increased</td>
                      <td>This field provides information on Immune components whose number or function increased as a result of drug treatment and resulted in increased anticancer Immunity.</td>
                  </tr>
                  <tr>
                      <td>Immune System-Function Inhibited/Numbers Decreased</td>
                      <td>This field provides information on Immune components whose number or function decreased as a result of drug treatment and resulted in decreased anticancer Immunity.</td>
                  </tr>
                  <tr>
                      <td>Immune Sytem Function Unaffected</td>
                      <td>This field gives the information about the incubation period.</td>
                  </tr>
                  <tr>
                      <td>Negative Immune Sytem Regulation-Function Enhanced/Numbers Increased</td>
                      <td>This Field provides information on Immune components whose number or function increased as a result of drug treatment and resulted in decreased anticancer Immunity.</td>
                  </tr>
                  <tr>
                      <td>Animal Strain Used</td>
                      <td>This field provides the Strain of Animal in which anticancer activity is tested in vivo.</td>
                  </tr>
                  <tr>
                      <td>Cell Line Used To Induce Tumor In Mice</td>
                      <td>This field provides the describes of cell line which is used to induce cancer in animals for anticancer studies of drug.</td>
                  </tr>
                  <tr>
                    <td>Patient_Sample</td>
                    <td>This field provides the Number of patient samples on which study is carried out.</td>
                </tr>
              </tbody>
          </table>
      </div>
      <div id="acknowldgement" class="information-subsection" style = 'display:none;'>
        <h3 class="subsection-heading">We appreciate the direct and indirect assistance that researchers provided in the creation of CanImmDB. We express our gratitude to the creators of the resources listed below. </h3>
        <table class="field-description-table">
            <thead>
                <tr>
                    <th>Resources</th>
                    <th>Description</th>
                </tr> 
            </thead>
            <tbody>
                <tr>
                    <td>Drugbank</td>
                    <td>A vast, publicly available online database with information on drugs and drug targets.</td>
                </tr>
                <tr>
                    <td>KEGG </td>
                    <td>A Databases with informations on genomes, biological pathways, diseases and Drugs.</td>
                </tr>
                <tr>
                    <td>Pubchem</td>
                    <td>Pubchem database is a chemical information database.</td>
                </tr>
                <tr>
                    <td>Pubmed</td>
                    <td>Pubmed is a resource which stores biomedical literature from MEDLINE, life science journals, and online books</td>
                </tr>
                <tr>
                    <td> PostgresSQL</td>
                    <td>PostgresSQL is employed as the database management system to handle all the back end data operations that includes storing, managing and retrieving data facilitating seamless data manipulation and querying in CanImmDB.</td>
                </tr> 	
                 <tr>
                    <td>Python</td>
                    <td>Python programming language is employed for the backend processing and Python framework known as Django was used to connect the web interface with the database. All common Gateway interface and database interface scripts were written in Python.</td>
                </tr>
                <tr>
                    <td>HTML, CSS and Java </td>
                    <td>Front end of the web interface was developed using a combination of HTML, CSS and Java script.</td>
                </tr>
               
            </tbody>
        </table>
    </div>
      <div id="faqs" class="information-subsection" style = 'display:none;'>
        <h3 class="subsection-heading">FAQs (Frequently asked questions)</h3>
        <div class="faq">
            <p><strong>Q1.What is CanIMMDB ?</strong></p>
            <p>Ans.CanIMMDB is a manually curated resource for studying the tumor specific anti tumor
               response of anticancer agents/Drugs. This Database  provides information on Immune components 
               whose number or function changed  as a result of drug treatment..</p>
        </div>
        <div class="faq">
            <p><strong>Q2. What are anticancer drugs ?</strong></p>
            <p>Ans.
              Anticancer drugs, commonly referred to as antineoplastic or chemotherapeutic drugs, are compounds utilised to combat cancer by impeding the proliferation of malignant cells. These medications are specifically engineered to selectively attack and destroy cancer cells while minimising harm to healthy cells. However, the treatments' non-specific mechanism of action typically leads to considerable side effects, which are a cause for concern.
               </p>
        </div>
        <div class="faq">
            <p><strong>Q3.Why CanIMMDB database  is created ?</strong></p>
            <p>Ans. Response of a patient to any anti-cancer therapy depends upon interaction of tumor microenvironment with drugs and subsequent immune-modulation-(both positive and negative). This immune-modulation may alter the immune associated parameters- cell types, phenotypes and function of host immune system (Coffelt et al, 2015). These immune associated parameters have prognostic value and can be an important predictive factor in the disease outcome and survival (Zitvogel et al, 2015). For example-CD16+ myeloid cell infiltration in colorectal cancer is associated with better overall survival even after adjusting for other prognostic factors (Sconocchia et al, 2011).Also, cytotoxic cell infiltration in Hodgkin’s lymphoma as a prognostic factor correlates with decreased overall survival (Alvaro-Naranjo et al, 2005). These immune associated parameters can be identified and clinically exploited for the therapeutic intervention in the form of personalized medicine. This is a effort for cataloguing the available information from research articles  for studying immune system interaction with cancer drugs and identifying immune componets whose function/ number changed in response to drugs.</p>
        </div>
        <div class="faq">
            <p><strong>Q4. What is unique about this CanIMMDB resource ?</strong></p>
            <p>Ans. To the best of our knowledge, this is first dedicated web based computational resource for studying immune system interaction with cancer drugs & cataloguing the immunomodulation (by anticancer drugs) information in a structured way in different systems : Cell line, Animal and Patients. The resource's structured data can assist in creating more effective combinatorial treatment plans by examining the immunomodulatory properties of individual drugs. This resource has a tool by which a user having the SMILES information of a query compound, can perform various types of similarity searches against the SMILE information of drugs listed in this database. Drug listed in this  resource is linked with Drug bank, KEGG and PubChem database which will provide comprehensive information on the available drugs listed in this database.This database also provides the available  3D structure of all the listed drugs.</p>
        </div>
        <div class="faq">
            <p><strong>Q5. Does this database catalogued all the available information from research articles for studying immune system interaction with cancer drugs and identifying immune components whose function/ number changed (Immunomodulation) in response to drug ?</strong></p>
            <p>Ans. The first round of curation produced this database, and in order to create an extensive library, further article  are being constantly searched..</p>
        </div>
        <div class="faq">
            <p><strong>Q6. Whom do I contact if there is an error/discrepancy?</strong></p>
            <p>Ans. Please email us at  parveenpunia1987@yahoo.in</p>
        </div>
        <div class="faq">
            <p><strong>Q7. Is this database useful if users have their own SMILE  seq?</strong></p>
            <p>Ans. Yes. This resource has a tool by which a user having the SMILES information of a query compound, can perform various types of similarity searches against the SMILE information of drugs listed in this database.</p>
        </div>
        
    </div>
    <div id="statistics" class="information-subsection" style = 'display:none;'>
        <h3 class="subsection-heading">Statistical information about CanImmDB</h3>
        <div class="statistics-images">
            <div class="stat-image">
                <img src="{% static 'img/piechart_category.png'%}" alt="Statistical Information 1">
            </div>
            
        </div>
        <div class="statistics-images">
          <div class="stat-image">
            <img src="{% static 'img/piechart_technique.png'%}" alt="Statistical Information 2">
            
        </div>
         
      </div>
        <div class="statistics-images">
          <div class="stat-image">
              <img src="{% static 'img/piechart_cancertype.png'%}" alt="Statistical Information 1">
          </div>
          
      </div>
    </div>
        <!-- Additional sections can be added here -->
      </div>
    </section>
    <section id="data-submission" class="section" style='display:none;'>
      <div class = "data-submission-section">
    <div class="data-submission-heading-container">
        <h2 class="data-submission-heading">Data Submission Page</h2>
    </div>
    <p>This page allows users to submit their data, including information about an anticancer drug, to the database. All user-submitted entries will be evaluated by the team before being added to the database. For online submission, users need to provide the following information. For more details, see the <a href="#" onclick="openSection('assistance')">HELP</a> page.</p>
    <div class="data-submission-container">
        <form id="data_submission_form" method="POST" action="">
            {% csrf_token %}
            <fieldset style="margin-bottom: 20px;">
                <legend class="data-submission-legend">Select the database</legend>
                <div class="checkbox-group">
                  <label><input type="radio" name="field" value="cell_line" onchange="loadColumns1(this)"> Submit In Cell Line</label>                   
                    <label><input type="radio" name="field" value="animal_studies" onchange="loadColumns1(this)"> Submit In Animal Studies</label>
                    <label><input type="radio" name="field" value="patient_studies" onchange="loadColumns1(this)"> Submit In Patient Studies</label>
                    
                </div>
            </fieldset>
            
            <fieldset class="data-submission-fieldset">
                <legend class="data-submission-legend">Submit Information about Anti-Cancer Drug</legend>
                <div id="dynamic-fields"></div>
            </fieldset>
            
            <fieldset class="data-submission-fieldset">
                <legend class="data-submission-legend">Additional Information</legend>
                <label for="submitters_name" class="data-submission-label">Submitter's Name:</label>
                <input type="text" id="submitters_name" name="submitters_name" class="data-submission-input">
                
                <label for="email_address" class="data-submission-label">Email Address:</label>
                <input type="email" id="email_address" name="email_address" class="data-submission-input">
                
                <label for="mailing_address" class="data-submission-label">Mailing Address (Optional):</label>
                <input type="text" id="mailing_address" name="mailing_address" class="data-submission-input">
                
                <label for="comment" class="data-submission-label">Comment or Suggestion:</label>
                <textarea id="comment" name="comment" class="data-submission-textarea"></textarea>
            </fieldset>
            
            <div class="data-submission-form-buttons">
                <button type="submit"  onclick="submitData()"  class="data-submission-button">Submit Dataset</button>
                <button type="reset" class="data-submission-button">Clear Data</button>
            </div>
        </form>
    </div>
  </div>
</section>

    <section id="developers" class="section" style='display:none;'>
      <div class="developers-section">
        <h2>Developers</h2>
        
        <div class="developer-grid">
            <div class="developer-card">
                <img src="{% static 'img/praveen.jpeg'%}" alt="Praveen Punia">
                <p><strong>Praveen Punia</strong></p>
                <p> Research Scholar,M.D University,Rohtak</p>
            </div>
            <div class="developer-card">
                <img src="{% static 'img/avinash.png'%}" alt="Avinash">
                <p><strong>Avinash Mishra</strong></p>
                <p>CEO,Growdea Technology,Gurugram</p>
            </div>
            <div class="developer-card">
                <img src="{% static 'img/sonia.jpeg'%}" alt="mennu kalkal">
                <p><strong>Dr. Meenu Kalkal</strong></p>
                <p>Research Scientist,ICMR-NIMR</p>
            </div>
            <div class="developer-card">
                <img src="img/sandeep_singh.jpg" alt="Sandeep Singh">
                <p><strong>Professor Dr.Sonia Kapoor</strong></p>
                <p>Biotechnology Engineering,M.D.University Rohtak</p>
            </div>
            <div class="developer-card">
                <img src="{% static 'img/akshat.png'%}" alt="Akshat Jha">
                <p><strong>Akshat Jha,</strong></p>
                <p>Product Development Lead,Growdea Technology,Gurugram</p>
            </div>
           
        
    </div>
    </section>
    <section id="contact" class="section" style='display:none;'>
      <div class="contact-section">
        <div class="contact-heading-container">
            <h2 class="contact-heading">Address for Correspondence</h2>
        </div>
        <div class="contact-info">
            <p>This Database was developed by the Lab of Dr. Sonia, Professor, Department of Biotechnology, University Institute of Engineering and Technology,Maharshi Dayanand University, Rohtak </p>
            <div class="contact-details">
<!--                 <div class="contact-image">
                    <img src="{%static 'img/praveen.jpeg'%}" alt="Praveen">
                </div> -->
                <div class="contact-text">


                    <h3>Dr. Sonia,</h3>
                    <p>Professor,Department of Biotechnology,<br>
                    University Institute of Engineering and Technology,<br>
                   Maharshi Dayanand University, Rohtak</p>
                    <p>Email: <a href="mailto:raghava@iiitd.ac.in">soniakapoor.uiet@mdurohtak.ac.in</a></p>
                </div>
            </div>
        </div>
        <div class="feedback-form-container">
            <h2 class="feedback-heading">Feedback Form</h2>
            <form id="feedback_form" method="POST" action="">
                {% csrf_token %}
                <div class="form-group">
                    <label for="name" class="form-label">Name:</label>
                    <input type="text" id="name" name="name" class="form-input">
                    
                    <label for="email" class="form-label">Email-Address:</label>
                    <input type="email" id="email" name="email" class="form-input">
                </div>
                <div class="form-group">
                    <label for="comment" class="form-label">Comment:</label>
                    <textarea id="comment" name="comment" class="form-textarea"></textarea>
                </div>
                <div class="form-buttons">
                    <button type="submit" class="form-button">Submit</button>
                    <button type="reset" class="form-button">Clear</button>
                </div>
            </form>
        </div>
      </div>
    </section>
    
    <section id="assistance" class="section" style='display:none;'>
      <div class="container">
        <h2> Basic Search</h2>
        <img src="/static/img/figures/onlyfig/basic_search.png" style="width: 95%;
              margin-top: 20px;">
           </div>
           <div class="container">
            <h2> Conditional Search</h2>
            <img src="/static/img/figures/onlyfig/conditional search.png" style="width: 95%;
                  margin-top: 20px;">
               </div>
               <div class="container">
                <h2> 2D Similarity Search </h2>
                <img src="/static/img/figures/onlyfig/2d_similarity.png" style="width: 95%;
                      margin-top: 20px;">
                   </div>
                   <div class="container">
                    <h2> 3D Similarity Search </h2>
                    <img src="/static/img/figures/onlyfig/3D_similarity.png" style="width: 95%;
                          margin-top: 20px;">
                       </div>
                       <div class="container">
                        <h2> substructure similarity </h2>
                        <img src="/static/img/figures/onlyfig/substructure_similarity.png" style="width: 95%;
                              margin-top: 20px;">
                           </div>
                           <div class="container">
                            <h2> MACCS_keys </h2>
                            <img src="/static/img/figures/onlyfig/MACCS_keys.png" style="width: 95%;
                                  margin-top: 20px;">
                               </div>
    </section>

    <section id="related-database" class="section" style='display:none;'>
        <p>Related Database content goes here.</p>
    </section>
     
      <!-- Introduction Section -->
      <section class="section"  style = "margin-top: 4%;">
          <div class="container">
              <h1>Welcome to CanIMMDB</h1>
              <p>

CanIMMDB is a manually curated resource which provides comprehensive information on immunomodulatory effects of anticancer drugs and antineoplastic agents. This database has compiled experimental verified information like antitumor and pro-tumor immunomodulation by anticancer drugs. This information of change  in immune associated parameters has prognostic value and  a thorough understanding of them  can help  create novel combinatorial regimens with enhanced clinical efficacy .The database's entries are connected to Pubchem, KEGG, Drugbank, and Pubmed. With several databases integrated into a single resource, users can browse vast information on a single platform.</p>
          </div>
      </section>
  
      <!-- Detailed Mechanisms Section -->
      <section class="section" id='mechanismSection'>
        <div class="container">
          <div class="slider">
            <div class="slides">
              <img src="/static/img/front_img.png" style="width: 100%;" alt="Slide 1">
              <img src="{% static 'img/piechart_technique.png'%}" style="width: 100%;" alt="Statistical Information 2">
              <img src="{% static 'img/piechart_cancertype.png'%}"style="width: 100%;"  alt="Statistical Information 1">
              <img src="{% static 'img/piechart_category.png'%}" style="width: 100%;"  alt="Statistical Information 1">
              <!-- Add more images as needed -->
            </div>
            <!-- Navigation buttons -->
            <button class="prev" onclick="prevSlide()">&#10094;</button>
            <button class="next" onclick="nextSlide()">&#10095;</button>
          </div>
          <p>Anticancer agents/drugs can alter  immune associated parameters- cell types, phenotypes and function of the host immune system.The Mechanisms (figure 1) by which anticancer  agents alter immune function include depleting immunosuppressive populations (both in circulation and tumor infiltrating) such as myeloid-derived suppressor cells (MDSCs) and Regulatory T cells. and downregulating PD-L2 mediated immunosuppression.These anticancer agents can trigger immunogenic cell death  and antibody-dependent cellular cytotoxicity (ADCC). Anticancer agents induce various effector cell populations including tumor specific IL-17–producing γδ T cells , IFN-γ producing CD8 T cells,  CD4+ T helper 17 (Th17), Natural killer cells, dendritic cells , macrophages and B cells. Anticancer agents suppress Protumor cytokines including IL-4, IL-10, and IL-13 and induce  anti tumor  immune response by releasing MCP-1, IFN-gamma, IL-17, Upregulating Class I and Class II MHC expression on tumor. In addition to these, many other mechanisms are cataloged in this database.</p>
        </div>
      </section>
      
      <!--############################################################################ Tools #########################################################################--> 
      <section class="section" id='2Dsearch' style='display:none;'>
        <div class="heading-container">
            <h2 class="heading">2D Similarity Search</h2>
        </div>
        <p>The 2D Search page assists users in running a 2D similarity search against the database. After submitting a job, it returns a list of compounds similar to the query structure. The server provides options to select different parameters, such as similarity cutoff and search type. For more information, see the <a href="#" onclick="openSection('assistance')">HELP</a> page.</p>
        <div class="container">
            <div class="search-container">
                <form id="2D_search_form" method="POST" action="{% url 'tanimoto_search' %}">
                    {% csrf_token %}
                    <fieldset>
                        <div class="checkbox-group">
                          <label><input type="radio" name="field" value="cell_line"> Search In Cell Line</label>
                          <label><input type="radio" name="field" value="animal_studies"> Search In Animal Studies</label>
                            <label><input type="radio" name="field" value="patient_studies"> Search In Patient Studies</label>
                            
                            
                        </div>
                    </fieldset>
                    <fieldset>
                        <legend>Please type or paste your SMILES sequence and Threshold in the box below.</legend>
                        <label for="smilesInput2D">SMILES sequence:</label>
                        <input type="text" id="smilesInput2D" name="smiles" placeholder="Example SMILES">
                        <label for="threshold2D">Threshold:</label>
                        <input type="text" id="threshold2D" name="threshold" placeholder="Eg. 0.5, 0.4, 1.0...">
                        <button type="button" onclick="fillExample2DForm()">Example</button> <!-- Example Button -->
                    </fieldset>
                    <div class="form-buttons">
                     
                        <button type="button" onclick="clear2DForm()">Clear All</button>
                        <button type="submit">Search</button>
                    </div>
                </form>
            </div>
            <div id="searchResults2" style="display:none;">
                <h2>Search Results</h2>
                <table id="resultsTable2">
                    <thead>
                        <tr id="tableHeaders2">
                            <!-- Table headers will be added here dynamically -->
                        </tr>
                    </thead>
                    <tbody id="tableBody2">
                        <!-- Table rows will be added here dynamically -->
                    </tbody>
                </table>
            </div>
        </div>
    </section>
 



    <section class="section" id='ThreeDsearch' style='display:none;'>
      <div class="heading-container">
          <h2 class="heading">3D Similarity Search</h2>
      </div>
      <p>The 3D Search page assists users in running a 3D similarity search against the database. After submitting a job, it returns a list of compounds similar to the query structure. The server provides options to select different parameters, such as similarity cutoff and search type. For more information, see the <a href="#" onclick="openSection('assistance')">HELP</a> page.</p>
      <div class="container">
          <div class="search-container">
              <form id="3D_search_form" method="POST" action="{% url 'third_search' %}">
                  {% csrf_token %}
                  <fieldset>
                      <div class="checkbox-group">
                        <label><input type="radio" name="field" value="cell_line"> Search In Cell Line</label>
                        <label><input type="radio" name="field" value="animal_studies"> Search In Animal Studies</label>
                          <label><input type="radio" name="field" value="patient_studies"> Search In Patient Studies</label>
                        
                          
                      </div>
                  </fieldset>
                  <fieldset>
                      <legend>Please type or paste your SMILES sequence and Threshold in the box below.</legend>
                      <label for="smilesInput3D">SMILES sequence:</label>
                      <input type="text" id="smilesInput3D" name="smiles" placeholder="Example SMILES">
                      <label for="threshold3D">Threshold:</label>
                      <input type="text" id="threshold3D" name="threshold" placeholder="Eg. 0.5, 0.4, 1.0...">
                      <button type="button" onclick="fillExample3DForm()">Example</button> <!-- Example Button -->
                  </fieldset>
                  <div id="loadingMessage" style="display: none; color: red; margin-top: 10px;">
                    It may take time.
                </div>
                  <div class="form-buttons">
                    <button type="button" onclick="fillExample3DForm()">Example</button> <!-- Example Button -->
                      <button type="button" onclick="clear3DForm()">Clear All</button>
                      <button type="submit">Search</button>
                  </div>
              </form>
          </div>
          <div id="searchResults3" style="display:none;">
              <h2>Search Results</h2>
              <table id="resultsTable3">
                  <thead>
                      <tr id="tableHeaders3">
                          <!-- Table headers will be added here dynamically -->
                      </tr>
                  </thead>
                  <tbody id="tableBody3">
                      <!-- Table rows will be added here dynamically -->
                  </tbody>
              </table>
          </div>
      </div>
  </section>
  
  <section class="section" id='substructure' style='display:none;'>
    <div class="heading-container">
        <h2 class="heading">Substructure Search</h2>
    </div>
    <p>The Substructure Search page helps users find compounds in the database that contain the query substructure. After submitting a job, it returns a list of compounds that match the query substructure. The server provides options to select different parameters, such as search type. For more information, see the <a href="#" onclick="openSection('assistance')">HELP</a> page.</p>
    <div class="container">
        <div class="search-container">
            <form id="substructure_search_form" method="POST" action="{% url 'substructure_search' %}">
                {% csrf_token %}
                <fieldset>
                    <div class="checkbox-group">
                      <label><input type="radio" name="field" value="cell_line"> Search In Cell Line</label>
                      <label><input type="radio" name="field" value="animal_studies"> Search In Animal Studies</label>
                        <label><input type="radio" name="field" value="patient_studies"> Search In Patient Studies</label>
                        
                        

                    </div>
                </fieldset>
                <fieldset>
                    <legend>Please type or paste your SMILES sequence in the box below.</legend>
                    <label for="smilesInput">SMILES sequence:</label>
                    <input type="text" id="smilesInputsubs" name="smiles" placeholder="Example SMILES">
                    <button type="button" onclick="fillExamplesubsForm()">Example</button> <!-- Example Button -->
                </fieldset>
                <div class="form-buttons">
         
                    <button type="button" onclick="clearSmilesForm()">Clear All</button>
                    <button type="submit">Search</button>
                </div>
            </form>
        </div>
        <div id="resultsTablesubs" style="display:none;">
            <h2>Search Results</h2>
            <table id="resultsTable">
                <thead>
                    <tr id="tableHeaderssubs">
                        <!-- Table headers will be added here dynamically -->
                    </tr>
                </thead>
                <tbody id="tableBodysubs">
                    <!-- Table rows will be added here dynamically -->
                </tbody>
            </table>
        </div>
    </div>
</section>


<section class="section" id='maccs' style='display:none;'>
  <div class="heading-container">
    <h2 class="heading">MACCS Key-Based Similarity Search</h2>
  </div>
  <p>The MACCS Key-Based Search page helps users perform a similarity search against the database using MACCS keys. After submitting a job, it returns a list of compounds similar to the query structure based on MACCS key similarity. The server provides options to select different parameters, such as similarity cutoff and search type. For more information, see the <a href="#" onclick="openSection('assistance')">HELP</a> page.</p>
  <div class="container">
    <div class="search-container">
      <form id="maccs_search_form" method="POST" action="{% url 'maccs_search' %}">
        {% csrf_token %}
        <fieldset>
          <div class="checkbox-group">
            <label><input type="radio" name="field" value="cell_line"> Search In Cell Line</label>
            <label><input type="radio" name="field" value="animal_studies"> Search In Animal Studies</label>
            <label><input type="radio" name="field" value="patient_studies"> Search In Patient Studies</label>
          
            
          </div>
        </fieldset>
        <fieldset>
          <legend>Please type or paste your SMILES sequence and Threshold in the box below.</legend>
          <label for="smilesInput">SMILES sequence:</label>
          <input type="text" id="smilesInputmacc" name="smiles" placeholder="Example SMILES">
          <label for="threshold">Threshold:</label>
          <input type="text" id="thresholdmacc" name="threshold" placeholder="Eg. 0.5, 0.4, 1.0...">
          <button type="button" onclick="fillExamplemaccForm()">Example</button> <!-- Example Button -->
        </fieldset>
        <div class="form-buttons">
     
          <button type="button" onclick="clearMaccsForm()">Clear All</button>
          <button type="submit">Search</button>
        </div>
      </form>
    </div>
    <div id="searchResultsm" style="display:none;">
      <h2>Search Results</h2>
      <table id="resultsTablem">
        <thead>
          <tr id="tableHeadersm">
            <!-- Table headers will be added here dynamically -->
          </tr>
        </thead>
        <tbody id="tableBodym">
          <!-- Table rows will be added here dynamically -->
        </tbody>
      </table>
    </div>
  </div>
</section>


<!--########################################## END Of Tools#####################################################################################################-->
      <section id="searchFormSection" class="section" style = "display:none;">
        <div class="container">
            <div class="search-container">
                <h1>Basic Search</h1>
                <p>This module allows users to perform a simple search on any field within the CanImmDB.For more information, see the <a href="#" onclick="openSection('assistance')">HELP</a> page.
                <form id="searchForm" method="POST" action="{% url 'search' %}">
                    {% csrf_token %}
                    <fieldset>
                      <legend>Please paste/insert/type your query to be searched:</legend>
                        <input type="text" placeholder="Enter Keyword ..." name="query">
                    </fieldset>
                      <legend>Select Fields to be SEARCHED</legend>
                      <div class="checkbox-group">
             
                        <label><input type="radio" name="field" value="cell_line" onclick="loadColumns_search(this)"> Search In Cell Line</label>                      
                          <label><input type="radio" name="field" value="animal_studies" onclick="loadColumns_search(this)"> Search In Animal Studies</label>
                          <label><input type="radio" name="field" value="patient_studies" onclick="loadColumns_search(this)"> Search In Patient Studies</label>
                          
                      </div>
                  </fieldset>
                   
                  <fieldset class="fields-to-search" id="fields-to-search">
                    <legend>Select Specific Columns to Search In</legend>
                    <div id="column-checkboxes" class="checkboxes-container">
                        <!-- Checkboxes will be added here dynamically -->
                    </div>
                </fieldset>
                     
                    
                    <div class="form-buttons">
                        <button type="button" onclick="clearForm()">Clear</button>
                        <button type="submit">Submit</button>
                    </div>
                </form>
            </div>
        </div>
    </section>
    <section id="Category_section" class="section" style = "display:none;" >
      <div class="container">
 
  <table id="peptides-table">
      <thead>
          <tr>
              <th>Drug Category</th>
              <th>Number of Cell line</th>
              <th>Number of Animal Studies</th>
              <th>Number of Patient Studies</th>
          </tr>
      </thead>
      <tbody>
          <!-- Rows will be populated by JavaScript -->
      </tbody>
  </table>
</div>
</section>
<section id="technique_section" class="section" style = "display:none;" >
  <div class="container">
<h1>Technique</h1>
<table id="peptidest-table">
  <thead>
      <tr>
          <th>Technique</th>
          <th>Number of Cell line</th>
          <th>Number of Animal Studies</th>
          <th>Number of Patient Studies</th>
      </tr>
  </thead>
  <tbody>
      <!-- Rows will be populated by JavaScript -->
  </tbody>
</table>
</div>
</section>

<section id="cancer_section" class="section" style = "display:none;" >
  <div class="container">
<h1>Cancer Type</h1>
<table id="peptidestc-table">
  <thead>
      <tr>
          <th>Cancer Type</th>
          <th>Number of Cell line</th>
          <th>Number of Animal Studies</th>
          <th>Number of Patient Studies</th>
      </tr>
  </thead>
  <tbody>
      <!-- Rows will be populated by JavaScript -->
  </tbody>
</table>
</div>
</section>

    <section id="conditionalSearchFormSection" class = 'section' style = "display:none;">
      <div class="container">
          <div class="search-container">
              <h1>Conditional Search</h1>
              <p>This module is designed to facilitate complex searches using multiple queries combined with logical operators such as AND/OR. For more information, see the <a href="#" onclick="openSection('assistance')">HELP</a> page.
              <form id="conditionalSearchForm" method="POST" action="{% url 'conditional_search' %}">
                {% csrf_token %}
                  <table>
                      <thead>
                          <tr>
                              <th>No.</th>
                              <th>Database</th>
                              <th>Field</th>
                              <th>Query</th>
                              <th>Operator</th>
                              <th>Add</th>
                              <th>Remove</th>
                          </tr>
                      </thead>
                      <tbody id="conditionRows">
                          <tr>
                              <td>1</td>
                              <td>
                                  <select name="table[]" onchange="loadColumns(this, 1)">
                                   
                                      <option value="cell_line">Cell Line</option>
                                      <option value="animal_studies">Animal Studies</option>
                                      <option value="patient_studies">Patient Studies</option>
                                      
                                  </select>
                              </td>
                              <td>
                                <select name="field[]" id="field-select-1">
                                    
                                </select>
                            </td>
                             
                              <td><input type="text" name="query[]"></td>
                              <td>
                                  <select name="operator[]">
                                      <option value="and">AND</option>
                                      <option value="or">OR</option>
                                      <option value="not">NOT</option>
                                      <!-- Add other options as necessary -->
                                  </select>
                              </td>
                              <td><button type="button" onclick="addConditionRow()">+</button></td>
                              <td><button type="button" onclick="removeConditionRow(this)">-</button></td>
                          </tr>
                          <!-- More rows can be dynamically added here -->
                      </tbody>
                  </table>
                  <div class="form-buttons">
                      <button type="button" onclick="clearForm('conditionalSearchForm')">Clear</button>
                      <button type="submit">Submit</button>
                  </div>
              </form>
          </div>
      </div>
  </section>
  <section id="smilesSearchSection" class="section" style = 'display:none;'>
    <div class="container">
        <div class="search-container">
          <form id="smilesSearchForm" method="POST" action="{% url 'smiles_search' %}">
            {% csrf_token %}
              <fieldset>
              <div class="checkbox-group">
               
                  <label><input type="radio" name="field" value="patient_studies" onclick="loadColumns(this)"> Search In Patient Studies</label>
                  <label><input type="radio" name="field" value="animal_studies" onclick="loadColumns(this)"> Search In Animal Studies</label>
                  <label><input type="radio" name="field" value="cell_line" onclick="loadColumns(this)"> Search In Cell Line</label>
              </div>
            </fieldset>
                <fieldset>
                  
                    <legend>Please type or paste your SMILES sequence in the box below.</legend>
                    <label for="smilesInput">SMILES sequence:</label>
                    <input type="text" id="smilesInput" name="smiles" placeholder="Example SMILES">
                </fieldset>
                <fieldset>
                    <legend>Select type of search:</legend>
                    <div class="radio-group">
                      <label for="pubchemid">Pubchem Id:</label>
                      <input type="text" id="pubchemid" name="pubchemid" placeholder="Example pubchemid">
                      <label for="drugbankid">Drug Bank Id</label>
                    <input type="text" id="drugbankid" name="drugbankid" placeholder="Example drugbankid">
                       
                    </div>
                </fieldset>
                <div class="form-buttons">
                    <button type="button" onclick="clearSmilesForm()">Clear All</button>
                    <button type="submit">Search</button>
                </div>
            </form>
        </div>
    </div>
</section>
      <!-- Key Features Section -->
     
  </main>
    <!-- JavaScript -->
  

<script src="{% static 'js/script.js' %}"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/xlsx/0.17.0/xlsx.full.min.js"></script>

<script>
  function submitData() {
    // Get the selected database (cell_line, animal_studies, patient_studies)
    const selectedDatabase = document.querySelector('input[name="field"]:checked').value;

    // Collect form data
    const formData = {
        submitters_name: document.getElementById('submitters_name').value,
        email_address: document.getElementById('email_address').value,
        mailing_address: document.getElementById('mailing_address').value,
        comment: document.getElementById('comment').value,
        selected_database: selectedDatabase // Add the selected database to the form data
    };

    // Add dynamic fields data (generated based on the selected database)
    const dynamicFields = document.getElementById('dynamic-fields').querySelectorAll('input');
    dynamicFields.forEach(field => {
        formData[field.name] = field.value;
    });

    // Send form data to the backend via an AJAX request
    fetch('/submit-data/', {
        method: 'POST',
        headers: {
            'Content-Type': 'application/json',
            'X-CSRFToken': getCookie('csrftoken') // Ensure CSRF protection for Django
        },
        body: JSON.stringify(formData)
    })
    .then(response => response.json())
    .then(data => {
        if (data.success) {
            alert('Data submitted successfully!');
        } else {
            alert('Error submitting data: ' + data.error);
        }
    })
    .catch(error => {
        console.error('Error:', error);
        alert('An error occurred during submission.');
    });
}

// Helper function to get CSRF token (for Django)
function getCookie(name) {
    let cookieValue = null;
    if (document.cookie && document.cookie !== '') {
        const cookies = document.cookie.split(';');
        for (let i = 0; i < cookies.length; i++) {
            const cookie = cookies[i].trim();
            if (cookie.substring(0, name.length + 1) === (name + '=')) {
                cookieValue = decodeURIComponent(cookie.substring(name.length + 1));
                break;
            }
        }
    }
    return cookieValue;
}

  function fillExample2DForm() {
    document.getElementById('smilesInput2D').value = 'COC1=CC=CC2=C1C(=O)C1=C(O)C3=C(C[C@](O)(C[C@@H]3O[C@H]3C[C@H](N)[C@H](O)[C@H](C)O3)C(C)=O)C(O)=C1C2=O';
    document.getElementById('threshold2D').value = '0.5';
}
function fillExample3DForm() {
    document.getElementById('smilesInput3D').value = 'COC1=CC=CC2=C1C(=O)C1=C(O)C3=C(C[C@](O)(C[C@@H]3O[C@H]3C[C@H](N)[C@H](O)[C@H](C)O3)C(C)=O)C(O)=C1C2=O';
    document.getElementById('threshold3D').value = '0.5';
}
function fillExamplemaccForm() {
    document.getElementById('smilesInputmacc').value = 'COC1=CC=CC2=C1C(=O)C1=C(O)C3=C(C[C@](O)(C[C@@H]3O[C@H]3C[C@H](N)[C@H](O)[C@H](C)O3)C(C)=O)C(O)=C1C2=O';
    document.getElementById('thresholdmacc').value = '0.5';
}
function fillExamplesubsForm() {
    document.getElementById('smilesInputsubs').value = 'COC1=CC=CC2=C1C(=O)C1=C(O)C3=C(C[C@](O)(C[C@@H]3O[C@H]3C[C@H](N)[C@H](O)[C@H](C)O3)C(C)=O)C(O)=C1C2=O';
    
}
document.addEventListener('DOMContentLoaded', function() {
  const sidebar = document.querySelector('.sidebar');
  const expandButton = document.querySelector('.expand_sidebar');
  const collapseButton = document.querySelector('.collapse_sidebar');

  // Add event listener for expanding the sidebar
  expandButton.addEventListener('click', function() {
    sidebar.classList.remove('close');
    expandButton.style.display = 'none';
    collapseButton.style.display = 'flex';
  });

  // Add event listener for collapsing the sidebar
  collapseButton.addEventListener('click', function() {
    sidebar.classList.add('close');
    collapseButton.style.display = 'none';
    expandButton.style.display = 'flex';
  });
});
let slideIndex = 0;
const slides = document.querySelector('.slides');
const totalSlides = slides.children.length;

// Function to move to the next slide
function nextSlide() {
  if (slideIndex === totalSlides - 1) {
    slideIndex = 0; // Loop back to the first slide
  } else {
    slideIndex++;
  }
  updateSlidePosition();
}

// Function to move to the previous slide
function prevSlide() {
  if (slideIndex === 0) {
    slideIndex = totalSlides - 1; // Loop to the last slide
  } else {
    slideIndex--;
  }
  updateSlidePosition();
}

// Function to update slide position based on slideIndex
function updateSlidePosition() {
  const slideWidth = slides.children[0].clientWidth;
  slides.style.transform = `translateX(-${slideIndex * slideWidth}px)`;
}

// Automatically move to the next slide every 2 seconds
setInterval(nextSlide, 2000);

 // Function to display the specified section
 function openSection(sectionId) {
  const sections = document.querySelectorAll('.section');
  sections.forEach(section => {
      section.style.display = 'none'; // Hide all sections
  });
  
  // Show only the target section
  const targetSection = document.getElementById(sectionId);
  if (targetSection) {
      targetSection.style.display = 'block';
  }
}

// Check for URL fragment or query parameter on page load
window.onload = function() {
  const fragment = window.location.hash.substring(1); // Extracts `sectionID` from `#sectionID`
  if (fragment) {
      openSection(fragment); // Open the section matching the fragment
  }
};

// Listen for changes to the fragment and open the corresponding section
window.addEventListener("hashchange", () => {
  const fragment = window.location.hash.substring(1);
  if (fragment) {
      openSection(fragment);
  }
});
function toggleInformationSection() {
  // Show the main information section if it's hidden
  const infoSection = document.getElementById('information');
  if (infoSection.style.display === 'none') {
      infoSection.style.display = 'block';
  }
}

function showSubsection(subsectionId) {
  // Show the main information section directly
  const infoSection = document.getElementById('information');
  infoSection.style.display = 'block';

  // Hide all subsections
  const subsections = document.querySelectorAll('.information-subsection');
  subsections.forEach(section => section.style.display = 'none');

  // Display the selected subsection
  const subsection = document.getElementById(subsectionId);
  if (subsection) {
      subsection.style.display = 'block';
  }
}

</script>
</body>
</html>

